**** 문제점 ****

0. 항적데이터 등을 이용해서 공항 -> TMA 로 데이터 바꾸기
1. arrival은 demand를 줄이면 0으로 가는데 departure는 그렇지 않음
2. (ngbr) arrival + departure로 total을 구할 때, arr과 dep의 비율을 유지하며 단순히 더했는데, totald의sd를 계산할때 공분산을 고려해야할 듯
    -> 연관있는 feature만 골라서 새로운 drp-arr cov를 찾아 적용
3. eda, data preprocessing (scklearn.preprocessing / PCA / dimensionality reduction )
    -> 새로운 피쳐 많이 만들고 주성분분석으로 거르는 것 다시 해보기
4. XGBoost도 해보기
5. 바람 쌘 날이 잘 반영되지 않음  ->  어떤 새로운 변수를 만들어야 하나??
6. Max capacity에 영향을 주는 것에 어떤 것이 더 있는지 생각해보기(항공기 기종, 조종사 자격증명 등?)
7. NOTAM을 어떻게 반영하는게 좋을까






**** 개선 방향 및 아이디어 ****

* TMA Capacity 정의
    TMA와 Aiport의 Capacity에 차이라고 한다면 holding으로 인한 것 뿐인 것 같음
    -> 이 부분만 airport capacity에 포함을 시키면 되지않을까?
   
* data에 outlier에 대해서도 해야하니 quantile regression 이 적합??
    -> probability 처럼 나타낼 수도 있음

* Collaborative Decision Making(CDM) ?
    -> GDP를 하는데 항공사별로 공평할 필요가 있음/ 항공사가 다 모여서, 어떤 비행을 취소하고 어떤걸 먼저 띄울지 결정하면 좋을 듯

* mix of departure & arrival / 공항에서 arrival 과 departure capacity의 tradeoff??

* 이 ML이 prediction이라고 주는 값은,  Demand가 ~고, 날씨가 ~일 때 몇대가 들어올 것 같다는 값을 줌
    -> 이 항공기 숫자를 예측하게 하고(확률적으로) reservior 개념을 적용해서 scheduling problem으로 발전(holding은 어떻게 넣을까?)
    -> reservoir를 하려면 AAR, ADR을 STAR, SID에 들어오는 수로 해야겠는데??? (특히 Arrival)
    그래야지 TMA용량 정의를 holding하는 항공기 수를 포함하여 적용가능
    departure는 거의 공항과 같게 될 것 같음(departure는 홀딩을 거의 공항에서 하므로) , 
    아니면 departure로 hand off되는 고도에 도착하는 걸로
   +
   예를들어, reservoir에서 15분까지 airborne holding까지 허용한다고 하자 
   지금 방법으로하면 Demand만 한대씩 늘려가면서, 몇 대가 들어올 지 예측해서 값을 주는 거지 
   (즉, A대가 그떄 도착하도록 이렇게저렇게 GDP를 조정해서 보낸다 하면, 그 중 몇대가 B대가 그시간대에 올지 예측해서 값으로 줌) 
   -> 이렇게 한대씩 늘렸을 때 예측값으로 준 rate과 uncertainty*를 가지고 최대 15분 holding이라는 기준을 맞추도록 stochastic scheduling을 해서 최종적으로 적절하게 보내도 되는 A값을 찾음 (여러 곳에서 오는 신호를 순서대로 처리하라고 보내는 것이라고 할 수도 있음)  ( * 몇 대가 올지 예측한 거를 확률로? / 어디서 올지, 언제 올지? / arrival과 departure 비율??)
   -> A값을 그 상황에서의 Capacity 로 정의 
   +
   확률적으로 AAR예측
    -> batch(예, 10대)로 도착항공기들을 자르고 그 안에 서 순서 변경   or, CPS 도입해서
    -> GDP를 실행할지 말지 결정, 어떻게 스케줄링 할 건지 결정(방법은 강화학습으로 일련의 결정과정을 학습 및 결정 (일부로 AAR을 적게 예측(robust하게) 
    -> reservoir개념(일정시간의 대기시간으로 도착공항에서 airborne queue를 만드는 것)으로 스케줄링, 시뮬레이션해서(?), 
        실제 AAR이 예측 AAR보다 크게 나와 airborne holding 줄이도록  
    -> reservoir에 있는 항공기들의 수까지 TMA capacity로 정의함
   추가로, queue로 몇분까지의 airborne delay가 적절한지 계산
   AAR이 예측보다 적게 나오면 delay가 커질 수 있는 단점도 있음
   stochastic optimization은 최악의 경우는 나오지 않으므로 delay가 커지지는 않을 듯??



